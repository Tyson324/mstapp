<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
		<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
		<title>Natural Language Form</title>
		<meta name="description" content="Natural Language Form with custom text input and drop-down lists" />
		<meta name="keywords" content="Natural Language UI, sentence form, text input, contenteditable, html5, css3, jquery" />
		<meta name="author" content="Codrops" />
		<link rel="shortcut icon" href="../favicon.ico"> 
		<link rel="stylesheet" type="text/css" href="css/default.css" />
		<link rel="stylesheet" type="text/css" href="css/component.css" />
		<script src="js/modernizr.custom.js"></script>
        <script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
        <script src="http://www.parsecdn.com/js/parse-1.3.1.min.js"></script>
	</head>
	<body class="nl-blurred">
		<div class="container demo-1">
			<!-- Top Navigation -->
			<div class="codrops-top clearfix">
				
			</div>
			<header>
				<h1>Hey there! <span>Tell us a little about yourself.</span></h1>	
			</header>
            <div id="nugget">
                <div class="main clearfix">
				<form id="nl-form" class="nl-form">
					My preferred name is <input type="text" value="" id="asdf" placeholder="Name" data-subline="This will be on your profile here at loop!"/>
					
					and I am located in
					<select id="asd">
						<option value="TVP" selected>TVP</option>
						
					</select>
				
					<select id="as">
						<option value="Building 1" selected>Building 1</option>
						<option value="Building 2">Building 2</option>
						<option value="Building 3">Building 3</option>
						<option value="Building 4">Building 4</option>
						<option value="Building 2">Building 5</option>
					</select>
					<select id="ad">
						<option value="Floor 1" selected>Floor 1</option>
					 	<option value="Floor 2">Floor 2</option>
					 	<option value="Floor 3">Floor 3</option>
					</select>
					
					<div class="nl-submit-wrap">
						<button class="nl-submit" id="submit" type="submit">Done!</button>
					</div>
					<div class="nl-overlay"></div>
				</form>
			</div>
            </div>
			
		</div><!-- /container -->
		<script src="js/nlform.js"></script>
		<script>
			var nlform = new NLForm( document.getElementById( 'nl-form' ) );

			Parse.initialize("KC1eJ0pORqFD9mnj6jxrFTKlHKE5Ou32d8ULgOkR", "DiSSicuCql0ZE9FH4tghrRDY5pv8CZtQMq7jBipQ");


      
            $('#submit').click( 
              function(event){

              	event.preventDefault();

                

                  //var user = Parse.User.current();
                  //user.fetch().then(function(fetchedUser){ window.Usersname = fetchedUser.getUsername();}, function(error){alert(error.message)});

                


                  var putUserData = Parse.Object.extend('profileData');
	              var userData = new putUserData();
	              var perfName = $('#asdf').val();
	              var site = $('#asd').val();
	              var building = $('#as').val();
	              var floor = $('#ad').val(); 
	              userData.set('User', "test");
	              userData.set('perfName', perfName);
	              userData.set('site', site);
	              userData.set('building', building);
	              userData.set('floor', floor);
	              userData.save(null, {
                success: function (tableobject) {
                  // Execute any logic that should take place after the object is saved.
                  alert('New object created with objectId: ' + tableobject.id);
                  var SubjectSaveId = tableobject.id
                },
                error: function (tableobject, error) {
                  // Execute any logic that should take place if the save fails.
                  // error is a Parse.Error with an error code and description.
                  alert('Failed to create new object, with error code: ' + error.description);
                }
              });
          	

                });

              


              window.location.replace("../DragDropInteractions/index.html");});

		</script>
	</body>
</html>